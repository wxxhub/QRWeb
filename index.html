<!-- 代码借用 https://github.com/zhangrj/JS-QRCode -->
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>QR Web</title>

<script type="text/javascript" src="static/js/qrcode.min.js"></script>
</head>

<body>
<div class="image-area" id="qr_image"> </div>

<div>
    <input type="text" id="text">
    <button type="button" onclick="generateCode()">生成二维码</button>
</div>

<script type="text/javascript">	
    function generateCode () {	
        //清空二维码区域，否则重复点击会多次生成
        document.getElementById("qr_image").innerHTML="";
        
        var elText = document.getElementById("text");
        
        if (!elText.value) {
            alert("请填写文本/网址内容");
            elText.focus();
            return;
        }
        
        var qrcode = new QRCode(document.getElementById("qr_image"), {
        text:elText.value,
        width : 400,
        height : 400,
        //容错能力设为H档次，最高
        correctLevel : QRCode.CorrectLevel.H 
        });
        
        //生成二维码
        qrcode.makeCode();
    }	
    </script>
</body>

</html>